import{x as w,a as l,e as i,f as a,A as k,t as b,b6 as f,c as L,b7 as p,G as m,J as y,d as M,b as g,u as B,F as N,n as j,g as v,_ as z,p as x,h as _,T as C}from"./DW3SVq1p.js";const A={},$={class:"border-t border-border py-6"},S={class:"max-w-6xl mx-auto px-4 flex flex-col md:flex-row gap-3 items-center justify-between"},V={class:"text-sm text-muted-foreground flex flex-wrap gap-2 items-center justify-center md:justify-start"};function F(o,e){return i(),l("footer",$,[a("div",S,[a("div",V,[a("span",null,"© "+b(new Date().getFullYear())+" My Doggy Love",1),e[0]||(e[0]=a("span",{class:"text-muted-foreground/50"},"·",-1)),e[1]||(e[1]=a("span",null,"以爱为名，记录每一帧心动",-1)),e[2]||(e[2]=a("span",{class:"text-muted-foreground/50"},"·",-1)),e[3]||(e[3]=a("a",{href:"https://beian.miit.gov.cn/",target:"_blank",rel:"noopener",class:"hover:underline hover:text-foreground transition-colors"},"闽ICP备2025120753号",-1))]),e[4]||(e[4]=k('<div class="flex items-center gap-3"><a href="https://github.com/linxiaowang/my-doggy-love" target="_blank" rel="noopener" title="GitHub" class="text-muted-foreground hover:text-foreground transition-colors"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg></a><a href="https://github.com/linxiaowang/my-doggy-love/issues" target="_blank" rel="noopener" class="text-sm text-muted-foreground hover:text-foreground hover:underline transition-colors" title="反馈">反馈</a><a href="https://github.com/linxiaowang/my-doggy-love/blob/main/LICENSE" target="_blank" rel="noopener" class="text-sm text-muted-foreground hover:text-foreground hover:underline transition-colors" title="许可证">许可证</a></div>',1))])])}const G=Object.assign(w(A,[["render",F]]),{__name:"Footer"}),H=()=>{const o=f("auth-user",()=>null),e=f("auth-loading",()=>!0),u=L(()=>!!o.value);async function s(){e.value=!0;try{const t=await $fetch("/api/auth/me",{credentials:"include"});return o.value=t.user,t.user}catch{return o.value=null,null}finally{e.value=!1}}async function n(t){const d=await s();if(!d){const h=t||y().fullPath;return await m({path:"/user/login",query:{redirect:h}}),null}return d}async function c(){try{await $fetch("/api/auth/logout",{method:"POST"}),o.value=null,await m("/user/login")}catch(t){console.error("退出登录失败:",t)}}return e.value&&s(),{user:p(o),loading:p(e),isAuthenticated:u,checkAuth:s,requireAuth:n,logout:c}},P={key:0,class:"fixed bottom-0 left-0 right-0 bg-background/95 backdrop-blur-md border-t border-border pb-[env(safe-area-inset-bottom)] z-50 md:hidden",role:"navigation","aria-label":"主导航"},T={class:"flex justify-around items-center h-16 px-2"},D={key:0,class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-12 h-12 bg-primary/10 rounded-2xl -z-10"},E=["d"],I={class:"text-[10px] font-medium transition-colors duration-300"},O=M({__name:"BottomNav",setup(o){const e=y(),{isAuthenticated:u}=H(),s=[{name:"首页",path:"/",icon:"home",ariaLabel:"首页"},{name:"日常",path:"/daily",icon:"image",ariaLabel:"日常动态"},{name:"愿望",path:"/wishes",icon:"star",ariaLabel:"愿望清单"},{name:"留言",path:"/messages",icon:"message-circle",ariaLabel:"留言板"},{name:"我的",path:"/user/profile",icon:"user",ariaLabel:"个人中心"}];function n(t){return t==="/"?e.path==="/":e.path.startsWith(t)}const c={home:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",image:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5-5 5 5M12 15V3",star:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z","message-circle":"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z",user:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2M12 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"};return(t,d)=>{const h=z;return B(u)?(i(),l("nav",P,[a("div",T,[(i(),l(N,null,j(s,r=>v(h,{key:r.path,to:r.path,class:x(["relative flex flex-col items-center justify-center w-full h-full space-y-1 transition-all duration-300 group",n(r.path)?"text-primary":"text-muted-foreground hover:text-foreground"]),"aria-label":r.ariaLabel,"aria-current":n(r.path)?"page":void 0},{default:_(()=>[v(C,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"scale-0 opacity-0","enter-to-class":"scale-100 opacity-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"scale-100 opacity-100","leave-to-class":"scale-0 opacity-0"},{default:_(()=>[n(r.path)?(i(),l("div",D)):g("",!0)]),_:2},1024),(i(),l("svg",{class:x(["w-6 h-6 transition-transform duration-300",n(r.path)?"scale-110":""]),fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24","aria-hidden":"true"},[a("path",{d:c[r.icon]},null,8,E)],2)),a("span",I,b(r.name),1)]),_:2},1032,["to","class","aria-label","aria-current"])),64))])])):g("",!0)}}}),J=Object.assign(O,{__name:"BottomNav"});export{J as B,G as _};
